<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../../assests/normalize.css">
    <link rel="stylesheet" href="assets/style/style.css">
    <title>KNIGHT</title>
    <style>
        main{
            position: relative;
        }
        #main-cover{
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 50px;
            /*position: relative;*/
            /*left: 0;*/
            /*right: 0;*/
            /*top: 0;*/
            /*bottom: 0;*/
            /*margin: auto;*/
        }
        #main-cover h1, h2{
            margin: 0;
        }

        #title-cover{
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 50px;
            gap: 20px;
        }
        #main-cover h2{
            color: red;
        }
        #title-cover span{
            color: #0d6efd;
        }

        #knight-cover{
            width: 80%;
            display: flex;
            gap: 2px;
            margin-top: 70px;
        }
        #knight-cover .div-color{
            width: 16%;
            height: 4vw;
            border: solid 2px black;
        }

        #btn-cover{
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        #btn-cover .btn{
            width: 8vw;
            height: 2.5vw;
            border-radius: 0.5rem;
            border: none;
            font-size: 1.4vw;
            color: white;
        }
        #btn-cover #btn-start{
            background-color: #0d6efd;
        }
        #btn-cover #btn-stop{
            background-color: #fc2020;
        }
        #rangeInput{
            width: 18vw;
            margin-left: 20px;
        }
    </style>
</head>
<body>
    <main>
        <section id="main-cover">
            <section id="title-cover">
                <h1>KNIGHT RIDER</h1>
                <h2>Speed <span>50 </span>| Waiting Time <span>2000</span></h2>
            </section>
            <section id="knight-cover">
                <div class="div-color"></div>
                <div class="div-color"></div>
                <div class="div-color"></div>
                <div class="div-color"></div>
                <div class="div-color"></div>
                <div class="div-color"></div>
            </section>
            <section id="btn-cover">
                <button class="btn" id="btn-start">Start</button>
                <button class="btn" id="btn-stop">Stop</button>
                <input type="range" id="rangeInput" name="rangeInput" min="0" max="100" step="1" value="50">
            </section>
        </section>
    </main>

    <script>
        let btnStart = document.querySelector("#btn-start");
        let btnStop = document.querySelector("#btn-stop");

        let colorListLeft =[ "white", "white", "white", "white", "white", "white","#ffcccc", "#ff9999","#ff6666", "#ff3333", "#ff0000"];
        let colorListRight =["white", "white", "white", "white", "white", "white", "#ffcccc", "#ff9999", "#ff6666", "#ff3333", "#ff0000"];
        let leftCount;
        let rightCount;
        let divList = document.querySelectorAll(".div-color");
        let setTimer;

        function leftToRight() {
            for (let i=0; i<divList.length; i++){
                divList[i].style.backgroundColor = colorListRight[i];
                // console.log("color = "+colorListRight[i]);
            }
            let color = colorListRight.pop();
            // console.log(color);
            colorListRight.unshift(color);
        }
        function rightToLeft() {
            let j=0;
            for (let i=5; i>=0; i--){
                divList[i].style.backgroundColor = colorListLeft[j];
                j++;
            }
            let color = colorListLeft.pop();
            colorListLeft.unshift(color);
        }

        btnStart.addEventListener("click", function () {
           setTimer = setInterval(function () {

               // for (let i=0; i<12; i++){
               //     leftToRight();
               //     console.log("loop ="+i);
               // }
               //
               // console.log("loop end")


               // while (rightCount<12){
               //     rightToLeft()
               //     rightCount++;
               //     console.log("rightCount = "+rightCount);
               // }
               //  leftToRight();
                rightToLeft();
            },200);
        });

        btnStop.addEventListener("click", function () {
            clearInterval(setTimer);
        });
    </script>
</body>
</html>